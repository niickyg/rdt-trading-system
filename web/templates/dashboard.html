<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - RDT Trading Signals</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            min-height: 100vh;
        }
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 250px;
            height: 100vh;
            background: #1a1a2e;
            color: white;
            padding: 20px;
        }
        .sidebar-logo { font-size: 1.3rem; margin-bottom: 40px; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav li { margin-bottom: 10px; }
        .sidebar-nav a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            display: block;
            padding: 12px 15px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .sidebar-nav a:hover, .sidebar-nav a.active {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .main-content {
            margin-left: 250px;
            padding: 30px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .header h1 { font-size: 1.8rem; color: #1a1a2e; }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .stat-card h3 { color: #666; font-size: 0.9rem; margin-bottom: 10px; }
        .stat-card .value { font-size: 2rem; font-weight: bold; color: #1a1a2e; }
        .stat-card .change { font-size: 0.9rem; color: #4CAF50; }
        .stat-card .change.negative { color: #e74c3c; }

        .signals-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .signals-section h2 { margin-bottom: 20px; font-size: 1.3rem; }

        .signal-table {
            width: 100%;
            border-collapse: collapse;
        }
        .signal-table th, .signal-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .signal-table th { color: #666; font-weight: 500; font-size: 0.9rem; }

        .badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .badge.long { background: #e8f5e9; color: #2e7d32; }
        .badge.short { background: #ffebee; color: #c62828; }
        .badge.strong { background: #e3f2fd; color: #1565c0; }

        .signal-actions a {
            color: #1a1a2e;
            text-decoration: none;
            padding: 8px 15px;
            background: #f0f2f5;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        .signal-actions a:hover { background: #e0e0e0; }

        .refresh-info {
            color: #666;
            font-size: 0.9rem;
        }
        .refresh-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        .refresh-btn:hover { background: #45a049; }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-logo">RDT Signals</div>
        <ul class="sidebar-nav">
            <li><a href="/dashboard" class="active">Dashboard</a></li>
            <li><a href="/dashboard/signals">Active Signals</a></li>
            <li><a href="/dashboard/history">Signal History</a></li>
            <li><a href="/api/v1/signals/current" target="_blank">API Access</a></li>
            <li><a href="/dashboard/settings">Settings</a></li>
            <li><a href="/">Logout</a></li>
        </ul>
    </div>

    <div class="main-content">
        <div class="header">
            <h1>Trading Dashboard</h1>
            <div>
                <span class="refresh-info">Last updated: <span id="last-update">Loading...</span></span>
                <button class="refresh-btn" onclick="refreshData()">Refresh</button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>Active Signals</h3>
                <div class="value" id="active-count">5</div>
                <div class="change">+2 today</div>
            </div>
            <div class="stat-card">
                <h3>Win Rate (30d)</h3>
                <div class="value">38.1%</div>
                <div class="change">+2.3% vs avg</div>
            </div>
            <div class="stat-card">
                <h3>Profit Factor</h3>
                <div class="value">1.29</div>
                <div class="change">Target: 1.5+</div>
            </div>
            <div class="stat-card">
                <h3>Market Status</h3>
                <div class="value" id="market-status">OPEN</div>
                <div class="change" id="market-time">Closes in 2h 15m</div>
            </div>
        </div>

        <div class="signals-section">
            <h2>Current Active Signals</h2>
            <table class="signal-table">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Direction</th>
                        <th>Entry</th>
                        <th>Stop</th>
                        <th>Target</th>
                        <th>RRS</th>
                        <th>Strength</th>
                        <th>Generated</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="signals-body">
                    <tr>
                        <td><strong>NVDA</strong></td>
                        <td><span class="badge long">LONG</span></td>
                        <td>$485.50</td>
                        <td>$480.25</td>
                        <td>$495.75</td>
                        <td>2.85</td>
                        <td><span class="badge strong">STRONG</span></td>
                        <td>10:32 AM</td>
                        <td class="signal-actions">
                            <a href="#">Details</a>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>TQQQ</strong></td>
                        <td><span class="badge long">LONG</span></td>
                        <td>$52.30</td>
                        <td>$51.10</td>
                        <td>$54.10</td>
                        <td>2.15</td>
                        <td><span class="badge strong">STRONG</span></td>
                        <td>10:45 AM</td>
                        <td class="signal-actions">
                            <a href="#">Details</a>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>AMD</strong></td>
                        <td><span class="badge long">LONG</span></td>
                        <td>$142.80</td>
                        <td>$140.50</td>
                        <td>$146.25</td>
                        <td>1.92</td>
                        <td><span class="badge">MODERATE</span></td>
                        <td>11:05 AM</td>
                        <td class="signal-actions">
                            <a href="#">Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function refreshData() {
            document.getElementById('last-update').textContent = new Date().toLocaleTimeString();
            // In production, this would fetch from /api/v1/signals/current
            fetch('/api/v1/signals/current')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('active-count').textContent = data.count || 0;
                    // Update signals table...
                })
                .catch(err => console.log('API not connected yet'));
        }

        // Initial update
        document.getElementById('last-update').textContent = new Date().toLocaleTimeString();

        // Auto-refresh every 60 seconds
        setInterval(refreshData, 60000);
    </script>
</body>
</html>
